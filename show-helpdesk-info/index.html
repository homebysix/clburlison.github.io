<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Show Help Desk Information  &middot; clburlison</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="Display helpful information on your Desktop using Geektool on Mac OS X." />

<meta name="keywords" content="Desktop,, Widget,, Geektool,, OSX, ">


<meta property="og:title" content="Show Help Desk Information  &middot; clburlison ">
<meta property="og:site_name" content="clburlison"/>
<meta property="og:url" content="https://clburlison.com/show-helpdesk-info/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content="Display helpful information on your Desktop using Geektool on Mac OS X."/>
<meta property="og:article:published_time" content="2014-07-14T00:00:00Z" />
<meta property="og:article:modified_time" content="2014-07-14T00:00:00Z" />

  
    
<meta property="og:article:tag" content="Desktop,">
    
<meta property="og:article:tag" content="Widget,">
    
<meta property="og:article:tag" content="Geektool,">
    
<meta property="og:article:tag" content="OSX">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@clburlison" />
<meta name="twitter:creator" content="@clburlison" />
<meta name="twitter:title" content="Show Help Desk Information" />
<meta name="twitter:description" content="Display helpful information on your Desktop using Geektool on Mac OS X." />
<meta name="twitter:url" content="https://clburlison.com/show-helpdesk-info/" />
<meta name="twitter:domain" content="https://clburlison.com/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Show Help Desk Information",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2014-07-14",
    "description": "Display helpful information on your Desktop using Geektool on Mac OS X.",
    "wordCount": 1024
  }
</script>



<link rel="canonical" href="https://clburlison.com/show-helpdesk-info/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://clburlison.com/touch-icon-144-precomposed.png">
<link href="https://clburlison.com/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.19" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://clburlison.com/css/font-awesome.min.css">
<link rel="stylesheet" href="https://clburlison.com/css/style.css">
<link rel="stylesheet" href="https://clburlison.com/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-49614309-2', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://clburlison.com/">
  clburlison

</a>

</div>

  
<div class="container topline">
  
  A Mac sysadmin, documenting useful code, ideas, &amp; guides.


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://clburlison.com/">Home</a>


  
<a href="https://clburlison.com/about">About</a>

<a href="https://clburlison.com/post" title="Show list of posts">Posts</a>

<a href="https://clburlison.com/resources">Resources</a>

<a href="https://clburlison.com/tags" title="Show list of tags">Tags</a>

<a href="https://clburlison.com/talks">Talks</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:clburlison@gmail.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/clburlison">
  <span class="fa fa-github-square"></span><span>github</span></a>





<a id="contact-link-linkedin" class="contact_link" href="https://www.linkedin.com/in/clburlison">
  <span class="fa fa-linkedin-square"></span><span>linkedin</span></a>







<a id="contact-link-twitter" class="contact_link" href="https://twitter.com/clburlison">
  <span class="fa fa-twitter-square"></span><span>twitter</span></a>













</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Show Help Desk Information
</h1>

  <div class="metas">
<time datetime="2014-07-14">Jul 14, 2014</time>


  
  &middot; Read in about 5 min
  &middot; (1024 Words)
  <br>
  
<a class="label" href="https://clburlison.com/tags/osx">osx</a>

<a class="label" href="https://clburlison.com/tags/munki">munki</a>



</div>

</header>

  

<nav class="toc">
<input id="ac-toc" name="accordion-toc" type="checkbox">
<label for="ac-toc">Table of Contents</label>
<div id="toc" class="toc__menu">
<nav id="TableOfContents">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-it">What is it?</a>
<ul>
<li><a href="#the-script">The Script</a></li>
</ul></li>
<li><a href="#how-do-you-use-it">How do you use it?</a>
<ul>
<li><a href="#modify-the-script">Modify the script</a></li>
<li><a href="#creating-the-profiles">Creating the profiles</a>
<ul>
<li><a href="#part-1-login-profile">Part 1 - Login profile</a></li>
<li><a href="#part-2-organization-profile">Part 2 - Organization profile</a></li>
</ul></li>
<li><a href="#deploying-your-profiles">Deploying your Profiles</a></li>
</ul></li>
<li><a href="#ending-notes">Ending Notes</a>
<ul>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#credits">Credits</a></li>
</ul></li>
</ul>
</nav>
</div>
</input>
</nav>



  <div class="container content">
  

<p>Display useful information on your Desktop using Geektool. Make troubleshooting network issues for your end users easier. Find your hostname faster. The amount of useful information is limitless. If you can script it&hellip;you can display it.</p>


<figure >
    
        <img src="/images/2014-07-14/current_info.png"  />
    
    
    <figcaption>
        <h4>My geektools results.</h4>
        
    </figcaption>
    
</figure>


<hr />

<h1 id="introduction">Introduction</h1>

<p>Firstly, I take no credit for this valuable resource. All credit should go to Erik Gomez from the munki-dev <a href="https://groups.google.com/forum/?fromgroups#!topic/munki-dev/jxs3ljEFbJY" target="_blank">mailing list</a>. All I have done is modified the script to work in my environment. Modifications included removing some excess <code>if</code>/ <code>then</code> statements, remove the MAC address, adding current SSID, and a few other tweaks so the script played nicely as a profile. The writing is on the wall, mcx is slowing dying or at least it is becoming a less preferred method of managing preferences.</p>


<figure >
    
        <img src="/images/2014-07-14/eriks_info.png"  />
    
    
    <figcaption>
        <h4>Erik&#39;s original geektools results.</h4>
        
    </figcaption>
    
</figure>


<p><strong>Requirements</strong> <em>-You will want to download and save these somewhere.</em></p>

<ul>
<li><a href="http://projects.tynsoe.org/en/geektool/download.php" target="_blank">Geektool</a></li>
<li><a href="https://github.com/timsutton/mcxToProfile" target="_blank">mcxToProfile</a></li>
<li><a href="https://github.com/timsutton/make-profile-pkg" target="_blank">make-profile-pkg</a></li>
<li><a href="https://gist.github.com/clburlison/af2a1afe01fb9aff9288" target="_blank">Gist files for this project</a></li>
<li><a href="/images/2014-07-14/Geektool-login-item.mobileconfig">Geektool-login-item.mobileconfig</a></li>
</ul>

<h1 id="what-is-it">What is it?</h1>

<p>In short, this is simply a bash script that Geektool is running in the background. It defaults to refreshing every 30 seconds, though you can modify this in the <code>org.tynsoe.geeklet.shell.plist</code> file, which has negligible performance toll on Mac clients. You want the refresh rate low so when the network drops or you get a new IP address you can easily see changes.</p>

<h2 id="the-script">The Script</h2>

<script src="//gist.github.com/clburlison/af2a1afe01fb9aff9288.js?file=geektool_script.sh"></script>

<h1 id="how-do-you-use-it">How do you use it?</h1>

<p>Great now what? Well that script does nothing for you. Unless you want to manually copy and paste on every computer&hellip;for every user profile&hellip;in your entire fleet. So lets automate that process a bit. If you have not done so already you will want to download all five (5) of the requirements above. This includes two command lines tools created by Tim Sutton, Geektool.app, the gist with all the necessary plist files, and a profile to launch Geektool at login.</p>

<h2 id="modify-the-script">Modify the script</h2>

<div class="alert alert-info">
  <p><strong>Note:</strong> If you wish to use the script as is, feel free to skip below to creating the profiles.</p>

</div>


<p>This will be the most time consuming process so start small. Lets start by changing the Help Desk Phone Number in my script. Open the main plist <code>org.tynsoe.geeklet.shell.plist</code> from the gist zip file. Scroll down to line 116 and change the following line to something useful.</p>

<pre><code class="language-bash">#### Technology Support
echo &quot;For Help Desk Support call: x3819&quot;
</code></pre>

<p>Now is a good time to mention that the script inside of the plist has been modified from the original <code>geektool_script.sh</code> script. The plist file needs to have <code>&amp;</code> encoded as <code>&amp;amp;</code>. For that reason if you make to many changes to the script you will need to test for compatibility with GeekTool. Testing will be outside the scope of this post but a hint if you are running into errors: open Geektool manually and paste your script directly into the application.</p>

<h2 id="creating-the-profiles">Creating the profiles</h2>

<p>Note for this to work, I have found that having two profiles was the easiest solution but your milage may vary. The main reason for splitting the profiles into two, was to use one profile for launching Geektool at login and the second profile deals with organization settings for Geektool: refresh rate, script, color of the text, etc.</p>

<h3 id="part-1-login-profile">Part 1 - Login profile</h3>

<p>With that out of the way, I will go ahead and say I cheated and created the <code>Geektool-login-item.mobileconfig</code> with my profile server since it was easier than creating from scratch. You should have downloaded the referenced profile under the requirement section. You can modify this profile to have your organization name by opening the file in a <a href="http://www.barebones.com/products/textwrangler/" target="_blank">text editing</a> application (aka not TextEdit.app). Search for &ldquo;Birdville ISD&rdquo; and change to your organization name. Save and exit.</p>

<h3 id="part-2-organization-profile">Part 2 - Organization profile</h3>

<p>Now we are going to use Tim Sutton&rsquo;s mcxToProfile. This tool will combine the three plist files below:</p>

<ul>
<li><code>org.tynsoe.geeklet.shell.plist</code></li>
<li><code>org.tynsoe.GeekTool.plist</code></li>
<li><code>org.tynsoe.geektool3.plist</code> into a single usable profile.</li>
</ul>

<p>Put mcxToProfile.py in the same directory as your three plist files. After changing directory to the folder with your files run the following in Terminal:</p>

<p><strong>Creating your profile</strong></p>

<pre><code class="language-bash">mcxToProfile.py -r org.tynsoe.geeklet.shell.plist org.tynsoe.GeekTool.plist \
org.tynsoe.geektool3.plist --identifier BISD-GeekTool --displayname=BISD-GeekTool --manage Often
</code></pre>

<div class="alert alert-info">
  <p><strong>Note:</strong> You will want to change your <code>identifier</code> and <code>displayname</code> to something useful for your organization.</p>

</div>


<p>This will create a second profile with the name of your &ldquo;identifier + .mobileconfig&rdquo;</p>

<h2 id="deploying-your-profiles">Deploying your Profiles</h2>

<p>This is kind of the bonus round. If you have made it this far you should have two working profiles (one was already made for you). If you have a MDM server you could simply upload the profiles to that, you could have users double click the files, etc. I however choose to install the profiles via a package for my users.</p>

<p>Luckily, Tim has made our life easy once again. This time we will use <code>make-profile-pkg</code> to create a package containing our profiles.  If you are using munki it is even easier, as this tool can even automatically import into your munki repository.</p>

<p>Making sure your .mobileconfig files and <code>make-profile-pkg.py</code> are in the same directory. Run the following to create your install package.</p>

<pre><code class="language-bash">make_profile_pkg.py --munki-import Geektool-login-item.mobileconfig
</code></pre>

<p>In the following, you will need to modify the profile name with your correct file.</p>

<pre><code class="language-bash">make_profile_pkg.py --munki-import identifier.mobileconfig
</code></pre>

<div class="alert alert-info">
  <p><strong>Note:</strong> You will want to remove the <code>&ndash;munki-import</code> flag if you just want to create a package.</p>

</div>


<h1 id="ending-notes">Ending Notes</h1>

<p>Hopefully you find this as useful as I did. If you run into any issues feel free to contact me on Twitter or email.</p>

<h2 id="dependencies">Dependencies</h2>

<ul>
<li>Geektool.app needs to be located in /Applications/.</li>
<li>A logout/login is required after the profiles are installed for the information to be displayed.</li>
<li>If one or both of your profiles are removed&hellip;bye bye Desktop Info.</li>
<li>This script is only good for network interfaces up to 5. If you need more add them in the script.</li>
<li>Tested with 10.7 Lion through 10.9 Mavericks with success.</li>
<li>The text is white by default. If your desktop background is a bright color then you will want to change the text color using Geektool.</li>
</ul>

<h2 id="credits">Credits</h2>

<p>Again, a giant thank you to Erik Gomez for sharing with the munki community. Without his original documentation I would have never gotten this to work. Thanks to Tim Sutton for providing awesome tools.</p>

<hr />

<p>Articles: <a href="https://groups.google.com/forum/?fromgroups#!topic/munki-dev/jxs3ljEFbJY" target="_blank">Using GeekTool to show HelpDesk Information</a></p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://clburlison.com/bender/" title="Bender">
      Previous
    </a>
    

    
    <a class="next" href="https://clburlison.com/converting-audio-with-media-encoder/" title="Converting Audio With Media Encoder">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//clburlison.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  powered by <a href="https://gohugo.io/" target="_blank">Hugo</a>.


</div>


  
<div class="container copyright">
  
  &copy; 2014 - 2017 Clayton Burlison


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//clburlison.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="https://clburlison.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
  </body>
</html>

